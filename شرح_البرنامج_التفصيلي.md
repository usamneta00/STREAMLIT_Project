# ğŸ“– Ø´Ø±Ø­ Ù…ÙØµÙ„ Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Explore California AI

## ğŸ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù‡Ùˆ **ØªØ·Ø¨ÙŠÙ‚ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ** Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…Ø³Ø§ÙØ±ÙŠÙ† ÙÙŠ Ø§Ø³ØªÙƒØ´Ø§Ù ÙˆÙ„Ø§ÙŠØ© ÙƒØ§Ù„ÙŠÙÙˆØ±Ù†ÙŠØ§. ÙŠØ¬Ù…Ø¹ Ø¨ÙŠÙ†:
- **Ù†Ù…ÙˆØ°Ø¬ ØªØ¹Ù„Ù… Ø¢Ù„ÙŠ (Machine Learning)** Ù„Ù„ØªÙ†Ø¨Ø¤ Ø¨Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
- **Ù†Ø¸Ø§Ù… RAG (Retrieval Augmented Generation)** Ù„Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚
- **LangGraph** Ù„Ø¥Ø¯Ø§Ø±Ø© ØªØ¯ÙÙ‚ Ø§Ù„Ø¹Ù…Ù„
- **ÙˆØ§Ø¬Ù‡Ø© Ù…Ø³ØªØ®Ø¯Ù…** Ø¬Ù…ÙŠÙ„Ø© Ø¨Ù€ HTML/CSS/JavaScript Ø£Ùˆ Streamlit

---

# ğŸ—ï¸ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

```
colab/
â”œâ”€â”€ backend/                      # Ø§Ù„Ø®Ø§Ø¯Ù… Ø§Ù„Ø®Ù„ÙÙŠ
â”‚   â”œâ”€â”€ main.py                   # API Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (FastAPI)
â”‚   â”œâ”€â”€ train.py                  # ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ logistic_model_outputs.pkl  # Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø¯Ø±Ø¨
â”‚   â””â”€â”€ data/
â”‚       â”œâ”€â”€ locations.csv         # Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø³ÙŠØ§Ø­ÙŠØ©
â”‚       â”œâ”€â”€ products.csv          # Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª/Ø§Ù„Ø¬ÙˆÙ„Ø§Øª
â”‚       â””â”€â”€ product_recommendation.csv  # Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨
â”œâ”€â”€ frontend/                     # ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
â”‚   â”œâ”€â”€ index.html                # ØµÙØ­Ø© HTML Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
â”‚   â”œâ”€â”€ script.js                 # Ù…Ù†Ø·Ù‚ JavaScript
â”‚   â””â”€â”€ style.css                 # Ø§Ù„Ø£Ù†Ù…Ø§Ø·
â”œâ”€â”€ broadcast.py                  # Ø¨Ø« Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ø¨Ø± ngrok
â””â”€â”€ streamlit-advanced-ai-app.py  # ØªØ·Ø¨ÙŠÙ‚ Streamlit Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
```

---

# ğŸ”„ ØªØ³Ù„Ø³Ù„ Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„ÙƒØ§Ù…Ù„

## ğŸ“Œ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ (`backend/train.py`)

### 1.1 Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª

```python
import pandas as pd
import joblib
import os
from sklearn.model_selection import train_test_split
from sklearn.linear_model import LogisticRegression
from sklearn.preprocessing import LabelEncoder
```

**Ø§Ù„Ø´Ø±Ø­:**
- `pandas`: Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø¬Ø¯Ø§ÙˆÙ„
- `joblib`: Ù„Ø­ÙØ¸ ÙˆØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
- `sklearn`: Ù…ÙƒØªØ¨Ø© Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¢Ù„ÙŠ

---

### 1.2 ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª

```python
data_path = os.path.join("backend", "data", "product_recommendation.csv")
models_dir = os.path.join("backend", "models")
save_path = os.path.join(models_dir, "logistic_model_outputs.pkl")
```

**Ø§Ù„Ø´Ø±Ø­:**
- `data_path`: Ù…Ø³Ø§Ø± Ù…Ù„Ù Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨
- `models_dir`: Ù…Ø¬Ù„Ø¯ Ø­ÙØ¸ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
- `save_path`: Ù…Ø³Ø§Ø± Ø­ÙØ¸ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø¯Ø±Ø¨

---

### 1.3 ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```python
df = pd.read_csv(data_path)
```

**Ù…Ù„Ù `product_recommendation.csv` ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰:**

| Ø§Ù„Ø¹Ù…ÙˆØ¯ | Ø§Ù„ÙˆØµÙ |
|--------|-------|
| `user_id` | Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… |
| `product_name` | Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ (Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ù…Ø±Ø§Ø¯ Ø§Ù„ØªÙ†Ø¨Ø¤ Ø¨Ù‡) |
| 108 Ø£Ø¹Ù…Ø¯Ø© Ø£Ø®Ø±Ù‰ | ØµÙØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ù…Ø«Ù„: `loves_hiking`, `eco_friendly`, `travels_with_family`) |

**Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ§Øª:**
- `bird_watcher` - Ù‡Ù„ ÙŠØ­Ø¨ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø·ÙŠÙˆØ±ØŸ
- `nature_lover` - Ù‡Ù„ ÙŠØ­Ø¨ Ø§Ù„Ø·Ø¨ÙŠØ¹Ø©ØŸ
- `likes_museums` - Ù‡Ù„ ÙŠØ­Ø¨ Ø§Ù„Ù…ØªØ§Ø­ÙØŸ
- `travels_on_a_budget` - Ù‡Ù„ ÙŠØ³Ø§ÙØ± Ø¨Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ù…Ø­Ø¯ÙˆØ¯Ø©ØŸ

ÙƒÙ„ ØµÙ ÙŠÙ…Ø«Ù„ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø¹ ØµÙØ§ØªÙ‡ (0 Ø£Ùˆ 1) ÙˆØ§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø°ÙŠ ÙŠÙ†Ø§Ø³Ø¨Ù‡.

---

### 1.4 ØªØ­Ø¶ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```python
target_col = 'product_name'
id_col = 'user_id'

X = df.drop(columns=[target_col, id_col])  # Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª (Ø§Ù„ØµÙØ§Øª)
y = df[target_col]                          # Ø§Ù„Ù…Ø®Ø±Ø¬Ø§Øª (Ø§Ù„Ù…Ù†ØªØ¬)
```

**Ø§Ù„Ø´Ø±Ø­:**
- `X`: Ù…ØµÙÙˆÙØ© Ø§Ù„ØµÙØ§Øª (108 Ø¹Ù…ÙˆØ¯)
- `y`: Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨

---

### 1.5 ØªØ±Ù…ÙŠØ² Ø§Ù„ÙØ¦Ø§Øª

```python
label_encoder = LabelEncoder()
y_encoded = label_encoder.fit_transform(y)
```

**Ø§Ù„Ø´Ø±Ø­:**
- ÙŠØ­ÙˆÙ„ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù†ØµÙŠØ© Ø¥Ù„Ù‰ Ø£Ø±Ù‚Ø§Ù…
- Ù…Ø«Ø§Ù„: "California Classics" â†’ 0, "Coastal & Canyon Explorer" â†’ 1

---

### 1.6 ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```python
X_train, X_val, y_train, y_val = train_test_split(
    X, y_encoded, test_size=0.2, stratify=y_encoded, random_state=42
)
```

**Ø§Ù„Ø´Ø±Ø­:**
- 80% Ù„Ù„ØªØ¯Ø±ÙŠØ¨
- 20% Ù„Ù„ØªØ­Ù‚Ù‚
- `stratify`: ÙŠØ¶Ù…Ù† ØªÙˆØ²ÙŠØ¹ Ù…ØªØ³Ø§ÙˆÙŠ Ù„Ù„ÙØ¦Ø§Øª

---

### 1.7 ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬

```python
model = LogisticRegression(
    class_weight='balanced',
    max_iter=1000,
    random_state=42
)
model.fit(X_train, y_train)
```

**Ø§Ù„Ø´Ø±Ø­:**
- `LogisticRegression`: Ù†Ù…ÙˆØ°Ø¬ Ø§Ù†Ø­Ø¯Ø§Ø± Ù„ÙˆØ¬Ø³ØªÙŠ Ù„Ù„ØªØµÙ†ÙŠÙ
- `class_weight='balanced'`: ÙŠÙˆØ§Ø²Ù† Ø¨ÙŠÙ† Ø§Ù„ÙØ¦Ø§Øª ØºÙŠØ± Ø§Ù„Ù…ØªØ³Ø§ÙˆÙŠØ©
- `max_iter=1000`: Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„ØªÙƒØ±Ø§Ø±Ø§Øª

---

### 1.8 Ø­ÙØ¸ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬

```python
artifacts = {
    "model": model,                          # Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø¯Ø±Ø¨
    "label_encoder": label_encoder,          # Ù…Ø±Ù…Ø² Ø§Ù„ÙØ¦Ø§Øª
    "attribute_names": X_train.columns.tolist()  # Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„ØµÙØ§Øª
}
joblib.dump(artifacts, save_path)
```

**Ø§Ù„Ø´Ø±Ø­:**
ÙŠØ­ÙØ¸ Ø«Ù„Ø§Ø«Ø© Ø£Ø´ÙŠØ§Ø¡ ÙÙŠ Ù…Ù„Ù ÙˆØ§Ø­Ø¯:
1. Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø¯Ø±Ø¨
2. Ù…Ø±Ù…Ø² Ø§Ù„ÙØ¦Ø§Øª (Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ù„Ø£Ø³Ù…Ø§Ø¡)
3. Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„ØµÙØ§Øª (Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„Ø§Ø­Ù‚Ø§Ù‹)

---

## ğŸ“Œ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù… (`backend/main.py`)

### 2.1 Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª

```python
import os
import json
import pandas as pd
import numpy as np
import joblib
from fastapi import FastAPI, HTTPException
from fastapi.middleware.cors import CORSMiddleware
from pydantic import BaseModel
from dotenv import load_dotenv

from langchain_openai import ChatOpenAI, OpenAIEmbeddings
from langchain_community.vectorstores import FAISS
from langchain_core.messages import SystemMessage, HumanMessage, AIMessage
from langchain_core.documents import Document
```

**Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:**
| Ø§Ù„Ù…ÙƒØªØ¨Ø© | Ø§Ù„ÙˆØ¸ÙŠÙØ© |
|---------|---------|
| `FastAPI` | Ø¥Ù†Ø´Ø§Ø¡ API Ø³Ø±ÙŠØ¹ |
| `langchain_openai` | Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ OpenAI |
| `FAISS` | Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù…ØªØ¬Ù‡ÙŠØ© Ù„Ù„Ø¨Ø­Ø« Ø§Ù„Ø¯Ù„Ø§Ù„ÙŠ |
| `pydantic` | Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª |

---

### 2.2 Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚

```python
app = FastAPI(title="Explore California AI API")

# ØªÙ…ÙƒÙŠÙ† CORS Ù„Ù„Ø³Ù…Ø§Ø­ Ù„Ù„ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø§Ù„Ø§ØªØµØ§Ù„
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
```

**Ø§Ù„Ø´Ø±Ø­:**
- ÙŠÙ†Ø´Ø¦ ØªØ·Ø¨ÙŠÙ‚ FastAPI
- CORS ÙŠØ³Ù…Ø­ Ù„Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ© Ø¨Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…

---

### 2.3 Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©

```python
embedder = None        # Ù…Ø­ÙˆÙ„ Ø§Ù„Ù†ØµÙˆØµ Ù„Ù…ØªØ¬Ù‡Ø§Øª
ml_model = None        # Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¢Ù„ÙŠ
ml_label_encoder = None # Ù…Ø±Ù…Ø² Ø§Ù„ÙØ¦Ø§Øª
ml_attribute_names = None # Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„ØµÙØ§Øª
location_vs = None     # Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹
attr_vs = None         # Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØµÙØ§Øª
df_products = None     # Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
df_locations = None    # Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹
llm = None             # Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù„ØºØ©
```

---

### 2.4 ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ (`init_resources`)

Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ØªÙ‚ÙˆÙ… Ø¨ØªØ­Ù…ÙŠÙ„ ÙƒÙ„ Ø´ÙŠØ¡ Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„:

#### 2.4.1 ØªÙ‡ÙŠØ¦Ø© Embedder

```python
embedder = OpenAIEmbeddings(api_key=OPENAI_API_KEY)
```

**Ø§Ù„Ø´Ø±Ø­:**
- ÙŠØ­ÙˆÙ„ Ø§Ù„Ù†ØµÙˆØµ Ø¥Ù„Ù‰ Ù…ØªØ¬Ù‡Ø§Øª (Ø£Ø±Ù‚Ø§Ù…)
- ÙŠØ³ØªØ®Ø¯Ù… OpenAI API

---

#### 2.4.2 ØªØ­Ù…ÙŠÙ„ Ù†Ù…ÙˆØ°Ø¬ ML

```python
artifacts = joblib.load(MODEL_ARTIFACTS_PATH)
ml_model = artifacts["model"]
ml_label_encoder = artifacts["label_encoder"]
ml_attribute_names = artifacts["attribute_names"]
```

**Ø§Ù„Ø´Ø±Ø­:**
ÙŠØ­Ù…Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø¯Ø±Ø¨ Ù…Ù† Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1

---

#### 2.4.3 Ø¥Ù†Ø´Ø§Ø¡ Vector Store Ù„Ù„ØµÙØ§Øª

```python
attr_docs = [Document(page_content=attr, metadata={"name": attr}) 
             for attr in ml_attribute_names]
attr_vs = FAISS.from_documents(attr_docs, embedder)
```

**Ø§Ù„Ø´Ø±Ø­:**
- ÙŠØ­ÙˆÙ„ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„ØµÙØ§Øª Ø¥Ù„Ù‰ Documents
- ÙŠØ®Ø²Ù†Ù‡Ø§ ÙÙŠ FAISS Ù„Ù„Ø¨Ø­Ø« Ø§Ù„Ø¯Ù„Ø§Ù„ÙŠ

**Ù…Ø§Ø°Ø§ ÙŠØ¹Ù†ÙŠ Ù‡Ø°Ø§ØŸ**
Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙ‚ÙˆÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… "Ø£Ø­Ø¨ Ø§Ù„Ù…Ø´ÙŠ ÙÙŠ Ø§Ù„Ø·Ø¨ÙŠØ¹Ø©"ØŒ ÙŠÙ…ÙƒÙ† Ù„Ù„Ù†Ø¸Ø§Ù… Ø¥ÙŠØ¬Ø§Ø¯ Ø§Ù„ØµÙØ§Øª Ø§Ù„Ù…Ø´Ø§Ø¨Ù‡Ø© Ù…Ø«Ù„:
- `loves_hiking`
- `nature_lover`
- `mountain_explorer`

---

#### 2.4.4 ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹

```python
df_locations = pd.read_csv(LOCATIONS_CSV)
docs = [Document(page_content=row["text_data"], metadata={"name": row["location_name"]})
        for _, row in df_locations.iterrows()]
location_vs = FAISS.from_documents(docs, embedder)
```

**Ù…Ù„Ù `locations.csv` ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰:**

| Ø§Ù„Ø¹Ù…ÙˆØ¯ | Ø§Ù„ÙˆØµÙ |
|--------|-------|
| `location_id` | Ù…Ø¹Ø±Ù Ø§Ù„Ù…ÙˆÙ‚Ø¹ |
| `location_name` | Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Ù…Ø«Ù„: Yosemite National Park) |
| `category` | Ø§Ù„ÙØ¦Ø© (Ù…Ø«Ù„: National Parks) |
| `description` | ÙˆØµÙ Ù…Ø®ØªØµØ± |
| `text_data` | Ù†Øµ Ù…ÙØµÙ„ Ù„Ù„Ø¨Ø­Ø« |

---

#### 2.4.5 ØªÙ‡ÙŠØ¦Ø© Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù„ØºØ©

```python
llm = ChatOpenAI(model_name="gpt-4o-mini", api_key=OPENAI_API_KEY)
```

**Ø§Ù„Ø´Ø±Ø­:**
- ÙŠØ³ØªØ®Ø¯Ù… GPT-4o-mini Ù„Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
- Ø£Ø®Ù ÙˆØ£Ø³Ø±Ø¹ Ù…Ù† GPT-4 Ø§Ù„ÙƒØ§Ù…Ù„

---

### 2.5 Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Pydantic)

```python
class ChatRequest(BaseModel):
    query: str              # Ø³Ø¤Ø§Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    history: List[dict] = [] # ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©

class ChatResponse(BaseModel):
    answer: str                          # Ø§Ù„Ø¬ÙˆØ§Ø¨
    followups: List[str]                 # Ø£Ø³Ø¦Ù„Ø© Ù…ØªØ§Ø¨Ø¹Ø© Ù…Ù‚ØªØ±Ø­Ø©
    context: Optional[str] = None        # Ø§Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    products: Optional[str] = None       # Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©
    predicted_product: Optional[str] = None # Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ù…Ù† ML
```

---

### 2.6 Ù†Ù‚Ø·Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (`/chat`)

Ù‡Ø°Ù‡ Ù‡ÙŠ Ø§Ù„Ø¹Ù‚Ø¯Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù„Ù„Ù…Ø­Ø§Ø¯Ø«Ø©:

```python
@app.post("/chat", response_model=ChatResponse)
async def chat(request: ChatRequest):
```

#### Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©:

##### Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„ØµÙØ§Øª Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø©

```python
attr_matches = attr_vs.similarity_search(query, k=5)
matched_attrs = [doc.page_content for doc in attr_matches]
```

**Ø§Ù„Ø´Ø±Ø­:**
- ÙŠØ¨Ø­Ø« ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„ØµÙØ§Øª Ø¹Ù† Ø£Ù‚Ø±Ø¨ 5 ØµÙØ§Øª
- Ù…Ø«Ø§Ù„: "Ø£Ø­Ø¨ Ø§Ù„Ø´ÙˆØ§Ø·Ø¦ ÙˆØ§Ù„ØºÙˆØµ" â†’ ÙŠØ¬Ø¯ `beach_lover`, `water_sports`

---

##### Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø§Ù„ØªÙ†Ø¨Ø¤ Ø¨Ø§Ù„Ù…Ù†ØªØ¬

```python
vec = [1 if attr in matched_attrs else 0 for attr in ml_attribute_names]
df_input = pd.DataFrame([vec], columns=ml_attribute_names)
pred_index = ml_model.predict(df_input)[0]
predicted_product = ml_label_encoder.inverse_transform([pred_index])[0]
```

**Ø§Ù„Ø´Ø±Ø­:**
1. ÙŠØ­ÙˆÙ„ Ø§Ù„ØµÙØ§Øª Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø¥Ù„Ù‰ Ù…ØªØ¬Ù‡ (0 Ùˆ 1)
2. ÙŠÙ…Ø±Ø±Ù‡ Ù„Ù„Ù†Ù…ÙˆØ°Ø¬ Ù„Ù„ØªÙ†Ø¨Ø¤
3. ÙŠØ­ÙˆÙ„ Ø§Ù„Ø±Ù‚Ù… Ù„Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬

---

##### Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬ ÙˆØ§Ù„Ù…ÙˆØ§Ù‚Ø¹

```python
matched = df_products[df_products["product_name"] == predicted_product]
row = matched.iloc[0]
products_info = f"**{predicted_product}**\n{row.get('description', '')}\nPrice: ${row.get('price_usd', 0)}"

# Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø©
locs_str = row.get("locations", "")
loc_names = [l.strip() for l in locs_str.split(",")]
matched_locs = df_locations[df_locations["location_name"].isin(loc_names)]
context = "\n\n".join([f"{r['location_name']}: {r['text_data']}" for _, r in matched_locs.iterrows()])
```

---

##### Ø§Ù„Ø®Ø·ÙˆØ© 4: Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¯Ù„Ø§Ù„ÙŠ (Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ ØªÙ†Ø¨Ø¤)

```python
if not context and location_vs:
    docs = location_vs.similarity_search(query, k=3)
    context = "\n\n".join([f"{doc.metadata['name']}: {doc.page_content}" for doc in docs])
```

**Ø§Ù„Ø´Ø±Ø­:**
ÙŠØ¨Ø­Ø« Ø¹Ù† Ø£Ù‚Ø±Ø¨ 3 Ù…ÙˆØ§Ù‚Ø¹ Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

---

##### Ø§Ù„Ø®Ø·ÙˆØ© 5: ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¬ÙˆØ§Ø¨

```python
prompt = [
    SystemMessage(content=(
        "You are a helpful travel assistant for Explore California. "
        "Answer the user's travel question using the provided context and products. "
        "Include recommended products in **bold**. "
        "Suggest 3 follow-up questions at the end..."
    ))
]

# Ø¥Ø¶Ø§ÙØ© ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
for msg in history[-5:]:
    if msg["role"] == "user":
        prompt.append(HumanMessage(content=msg["content"]))
    else:
        prompt.append(AIMessage(content=msg["content"]))

# Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø¤Ø§Ù„ Ù…Ø¹ Ø§Ù„Ø³ÙŠØ§Ù‚
prompt.append(HumanMessage(content=f"Context: {context}\n\nProducts: {products_info}\n\nUser Question: {query}"))

response = llm.invoke(prompt)
```

---

##### Ø§Ù„Ø®Ø·ÙˆØ© 6: ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¬ÙˆØ§Ø¨

```python
if "**Suggested Follow-Ups:**" in output:
    parts = output.split("**Suggested Follow-Ups:**")
    answer = parts[0].strip()
    followups = [line.strip("- ").strip() for line in f_text.splitlines() if line.strip()]
```

---

## ğŸ“Œ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3: Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ©

### 3.1 Ù‡ÙŠÙƒÙ„ HTML (`frontend/index.html`)

```html
<div class="app-container">
    <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
    <header>
        <div class="logo">
            <span class="icon">ğŸœï¸</span>
            <h1>Explore <span>California</span></h1>
        </div>
        <div class="status-badge" id="backend-status">...</div>
    </header>

    <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© -->
    <main class="chat-wrapper">
        <div id="chat-messages" class="chat-messages">...</div>
        <div class="input-area">
            <div id="followups" class="followups"></div>
            <form id="chat-form">
                <input type="text" id="user-input" placeholder="...">
                <button type="submit" id="send-btn">...</button>
            </form>
        </div>
    </main>

    <!-- Ø§Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© -->
    <aside class="side-panel">
        <div class="panel-section">
            <h3>ğŸ” Context & Insights</h3>
            <div id="context-info">...</div>
        </div>
        <div class="panel-section">
            <h3>ğŸ·ï¸ Recommended Products</h3>
            <div id="product-info">...</div>
        </div>
    </aside>
</div>
```

---

### 3.2 Ù…Ù†Ø·Ù‚ JavaScript (`frontend/script.js`)

#### Ø§Ù„ØªÙ‡ÙŠØ¦Ø©

```javascript
const chatMessages = document.getElementById('chat-messages');
const chatForm = document.getElementById('chat-form');
const userInput = document.getElementById('user-input');
const API_URL = 'http://localhost:8000';

let chatHistory = [];
```

---

#### ÙØ­Øµ Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø§Ø¯Ù…

```javascript
async function checkStatus() {
    try {
        const res = await fetch(`${API_URL}/`);
        if (res.ok) {
            backendStatus.classList.add('online');
            backendStatus.querySelector('span').innerText = 'Backend Online';
        }
    } catch (err) {
        backendStatus.classList.remove('online');
        backendStatus.querySelector('span').innerText = 'Backend Offline';
    }
}

setInterval(checkStatus, 5000);  // ÙØ­Øµ ÙƒÙ„ 5 Ø«ÙˆØ§Ù†ÙŠ
```

---

#### Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©

```javascript
async function sendMessage(text) {
    // 1. Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„ÙˆØ§Ø¬Ù‡Ø©
    appendMessage('user', text);
    
    // 2. Ø¹Ø±Ø¶ Ù…Ø¤Ø´Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„
    const loadingId = addLoadingIndicator();

    // 3. Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„Ø®Ø§Ø¯Ù…
    const response = await fetch(`${API_URL}/chat`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ query: text, history: chatHistory })
    });

    const data = await response.json();
    
    // 4. Ø¹Ø±Ø¶ Ø§Ù„Ø¬ÙˆØ§Ø¨
    appendMessage('assistant', data.answer);
    
    // 5. ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ§Ø±ÙŠØ®
    chatHistory.push({ role: 'user', content: text });
    chatHistory.push({ role: 'assistant', content: data.answer });

    // 6. Ø¹Ø±Ø¶ Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©
    if (data.followups && data.followups.length > 0) {
        data.followups.forEach(f => {
            const btn = document.createElement('button');
            btn.className = 'followup-btn';
            btn.innerText = f;
            btn.onclick = () => sendMessage(f);
            followupsSection.appendChild(btn);
        });
    }

    // 7. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
    contextInfo.innerHTML = marked.parse(data.context);
    productInfo.innerHTML = marked.parse(data.products);
}
```

---

## ğŸ“Œ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4: ØªØ·Ø¨ÙŠÙ‚ Streamlit Ø§Ù„Ù…ØªÙ‚Ø¯Ù…

### 4.1 Ø­Ø§Ù„Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ (State)

```python
class AppState(TypedDict):
    query: str                    # Ø³Ø¤Ø§Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    context: str                  # Ø§Ù„Ø³ÙŠØ§Ù‚
    products: str                 # Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
    answer: str                   # Ø§Ù„Ø¬ÙˆØ§Ø¨
    followups: List[str]          # Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©
    chat_history: List[dict]      # ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
    predicted_product: str        # Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹
    attributes: List[str]         # Ø§Ù„ØµÙØ§Øª Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø©
    topic_label: str              # Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
```

---

### 4.2 Ø£Ø¯ÙˆØ§Øª LangGraph

#### Ø£Ø¯Ø§Ø© Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„ØµÙØ§Øª

```python
@tool
def find_similar_attributes(query: str) -> dict:
    """Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„ØµÙØ§Øª Ø§Ù„Ù…Ø´Ø§Ø¨Ù‡Ø© Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"""
    matches = attr_vs.similarity_search(query, k=10)
    selected = list({doc.page_content for doc in matches})
    return {"attributes": selected}
```

---

#### Ø£Ø¯Ø§Ø© Ø§Ù„ØªÙ†Ø¨Ø¤ Ø¨Ø§Ù„Ù…Ù†ØªØ¬

```python
@tool
def predict_product_from_attributes(attributes: List[str]) -> dict:
    """Ø§Ù„ØªÙ†Ø¨Ø¤ Ø¨Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù…Ù† Ø§Ù„ØµÙØ§Øª"""
    vec = [1 if attr in attributes else 0 for attr in ml_attribute_names]
    df_input = pd.DataFrame([vec], columns=ml_attribute_names)
    pred_index = ml_model.predict(df_input)[0]
    pred_product = ml_label_encoder.inverse_transform([pred_index])[0]
    return {"predicted_product": pred_product, "products": product_info}
```

---

#### Ø£Ø¯Ø§Ø© ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª

```python
@tool
def entry_selector(query: str, followup_flag: bool = False) -> dict:
    """ØªØ­Ø¯ÙŠØ¯ Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©"""
    # Ø¥Ø°Ø§ ÙƒØ§Ù† Ø³Ø¤Ø§Ù„ Ù…ØªØ§Ø¨Ø¹Ø©
    if followup_flag:
        return {"start_node": "generate_answer"}
    
    # Ø§Ø³ØªØ®Ø¯Ø§Ù… LLM Ù„ØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ Ø§Ù„Ø³Ø¤Ø§Ù„
    prompt = """
    - Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ³Ø±Ø¯ Ø§Ù‡ØªÙ…Ø§Ù…Ø§ØªÙ‡ â†’ find_attributes
    - Ø¥Ø°Ø§ ÙƒØ§Ù† ÙŠØ³Ø£Ù„ Ø¹Ù† Ø£Ù…Ø§ÙƒÙ† â†’ search_locations
    - ØºÙŠØ± Ø°Ù„Ùƒ â†’ generate_answer
    """
    response = llm.invoke([HumanMessage(content=prompt)])
    return {"start_node": route, "topic_label": label}
```

---

### 4.3 Ø¨Ù†Ø§Ø¡ Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„ (Workflow)

```python
builder = StateGraph(AppState)

# Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù‚Ø¯
builder.add_node("entry_selector", entry_selector)
builder.add_node("find_attributes", find_similar_attributes)
builder.add_node("predict_product", predict_product_from_attributes)
builder.add_node("get_product_locations", get_locations_for_product)
builder.add_node("search_locations", search_locations)
builder.add_node("match_products", match_products)
builder.add_node("generate_answer", generate_answer_with_followups)

# Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
builder.set_entry_point("entry_selector")

# Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø´Ø±Ø·ÙŠ
builder.add_conditional_edges("entry_selector", determine_route)

# Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø¹Ø§Ø¯ÙŠ (RAG)
builder.add_edge("search_locations", "match_products")
builder.add_edge("match_products", "generate_answer")

# Ù…Ø³Ø§Ø± Ø§Ù„ØªÙ†Ø¨Ø¤ Ø¨Ø§Ù„ØµÙØ§Øª
builder.add_edge("find_attributes", "predict_product")
builder.add_edge("predict_product", "get_product_locations")
builder.add_edge("get_product_locations", "generate_answer")

# Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
builder.add_edge("generate_answer", END)

app = builder.compile()
```

---

### 4.4 Ù…Ø®Ø·Ø· ØªØ¯ÙÙ‚ Ø§Ù„Ø¹Ù…Ù„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  entry_selector â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚
   â”Œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”
   â†“     â†“     â†“
â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚searchâ”‚ â”‚find_attrs  â”‚ â”‚generate_ans â”‚
â”‚locs  â”‚ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”¬â”€â”€â”€â”˜       â†“
   â†“     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”Œâ”€â”€â”€â”€â”€â”€â” â”‚predict_prod â”‚
â”‚match â”‚ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚prods â”‚       â†“
â””â”€â”€â”¬â”€â”€â”€â”˜ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â†“     â”‚get_prod_   â”‚
   â”‚     â”‚locations   â”‚
   â”‚     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
   â”‚           â†“
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â†“           â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ generate_answer â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”
              â”‚  END  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Œ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5: Ø§Ù„Ø¨Ø« Ø¹Ø¨Ø± Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª (`broadcast.py`)

```python
def start_broadcast():
    # ØªÙ‡ÙŠØ¦Ø© ngrok
    ngrok.set_auth_token(auth_token)
    
    # ÙØªØ­ Ù†ÙÙ‚ Ù„Ù„Ù…Ù†ÙØ° 8501 (Streamlit)
    port = 8501
    public_url = ngrok.connect(port, "http")
    
    print(f"ğŸš€ YOUR APP IS NOW LIVE!")
    print(f"ğŸ”— URL: {public_url}")
    
    # Ø¥Ø¨Ù‚Ø§Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„ Ù…ÙØªÙˆØ­Ø§Ù‹
    while True:
        time.sleep(1)
```

**Ø§Ù„Ø´Ø±Ø­:**
- `ngrok` ÙŠÙ†Ø´Ø¦ Ù†ÙÙ‚ Ø¹Ø¨Ø± Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª
- ÙŠÙ…ÙƒÙ† Ù„Ø£ÙŠ Ø´Ø®Øµ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ø¨Ø± Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø¹Ø§Ù…

---

# ğŸ”€ Ù…Ø®Ø·Ø· Ø§Ù„ØªØ¯ÙÙ‚ Ø§Ù„ÙƒØ§Ù…Ù„

```
Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙƒØªØ¨ Ø³Ø¤Ø§Ù„
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend (JS)    â”‚
â”‚  ÙŠØ±Ø³Ù„ POST /chat  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend (FastAPI)â”‚
â”‚  ÙŠØ³ØªÙ‚Ø¨Ù„ Ø§Ù„Ø·Ù„Ø¨     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¯Ù„Ø§Ù„ÙŠ     â”‚
â”‚ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„ØµÙØ§Øª   â”‚
â”‚ (FAISS)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ø§Ù„ØªÙ†Ø¨Ø¤ Ø¨Ø§Ù„Ù…Ù†ØªØ¬    â”‚
â”‚ (ML Model)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ§Ù‚ â”‚
â”‚ Ù…Ù† Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¬ÙˆØ§Ø¨     â”‚
â”‚ (OpenAI GPT)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ø¬ÙˆØ§Ø¨     â”‚
â”‚ + Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ø¹Ø±Ø¶ ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# ğŸ“Š Ù…Ù„ÙØ§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

## products.csv

| Ø§Ù„Ø¹Ù…ÙˆØ¯ | Ø§Ù„ÙˆØµÙ | Ù…Ø«Ø§Ù„ |
|--------|-------|------|
| `product_name` | Ø§Ø³Ù… Ø§Ù„Ø¬ÙˆÙ„Ø© | Epic NorCal Expedition |
| `duration_days` | Ø§Ù„Ù…Ø¯Ø© Ø¨Ø§Ù„Ø£ÙŠØ§Ù… | 10 |
| `price_usd` | Ø§Ù„Ø³Ø¹Ø± Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø§Ø± | 2636 |
| `description` | ÙˆØµÙ Ø§Ù„Ø¬ÙˆÙ„Ø© | Northern California's finest parks... |
| `demographics` | Ø§Ù„ÙØ¦Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ© | Adventure seekers |
| `difficulty` | Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø© | Easy/Moderate/Challenging |
| `locations` | Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…Ø´Ù…ÙˆÙ„Ø© | Sequoia, Hollywood Walk of Fame... |

---

## locations.csv

| Ø§Ù„Ø¹Ù…ÙˆØ¯ | Ø§Ù„ÙˆØµÙ |
|--------|-------|
| `location_id` | Ù…Ø¹Ø±Ù Ø§Ù„Ù…ÙˆÙ‚Ø¹ |
| `location_name` | Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ |
| `category` | Ø§Ù„ÙØ¦Ø© |
| `latitude/longitude` | Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª |
| `description` | ÙˆØµÙ Ù…Ø®ØªØµØ± |
| `text_data` | Ù†Øµ Ù…ÙØµÙ„ Ù„Ù„Ø¨Ø­Ø« |

---

# ğŸš€ ÙƒÙŠÙÙŠØ© Ø§Ù„ØªØ´ØºÙŠÙ„

## Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ¦Ø©

```bash
# Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù .env
OPENAI_API_KEY=your_key_here
NGROK_AUTH_TOKEN=your_ngrok_token
STREAMLIT_PASSWORD=your_password
```

## Ø§Ù„Ø®Ø·ÙˆØ© 2: ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬

```bash
python backend/train.py
```

## Ø§Ù„Ø®Ø·ÙˆØ© 3: ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…

```bash
# Ù„ØªØ´ØºÙŠÙ„ FastAPI + Frontend
python backend/main.py

# Ø£Ùˆ Ù„ØªØ´ØºÙŠÙ„ Streamlit
streamlit run streamlit-advanced-ai-app.py
```

## Ø§Ù„Ø®Ø·ÙˆØ© 4: Ø§Ù„Ø¨Ø« Ø¹Ø¨Ø± Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª

```bash
python broadcast.py
```

---

# ğŸ¯ Ù…Ù„Ø®Øµ Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©

| Ø§Ù„ØªÙ‚Ù†ÙŠØ© | Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… |
|---------|-----------|
| **FastAPI** | API Ø³Ø±ÙŠØ¹ ÙˆØ­Ø¯ÙŠØ« |
| **Streamlit** | ÙˆØ§Ø¬Ù‡Ø© ØªÙØ§Ø¹Ù„ÙŠØ© Ø¨Ù€ Python |
| **LangChain** | ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù„ØºØ© |
| **LangGraph** | Ø¥Ø¯Ø§Ø±Ø© Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„ |
| **FAISS** | Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¯Ù„Ø§Ù„ÙŠ Ø§Ù„Ø³Ø±ÙŠØ¹ |
| **OpenAI** | Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù„ØºØ© ÙˆØ§Ù„ØªØ¶Ù…ÙŠÙ† |
| **Scikit-learn** | Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¢Ù„ÙŠ |
| **ngrok** | Ø§Ù„Ø¨Ø« Ø¹Ø¨Ø± Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª |

---

# ğŸ† Ø§Ù„Ø®Ø§ØªÙ…Ø©

Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙŠØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø¹Ø¯Ø© ØªÙ‚Ù†ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø©:
1. **RAG** Ù„Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ ÙˆØªÙˆÙ„ÙŠØ¯ Ø¥Ø¬Ø§Ø¨Ø§Øª Ù…Ø¯Ø¹ÙˆÙ…Ø© Ø¨Ø§Ù„Ø³ÙŠØ§Ù‚
2. **ML** Ù„Ù„ØªÙ†Ø¨Ø¤ Ø¨Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù…Ù† Ø§Ù‡ØªÙ…Ø§Ù…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
3. **LangGraph** Ù„Ø¥Ø¯Ø§Ø±Ø© ØªØ¯ÙÙ‚ Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø°ÙƒÙŠØ©
4. **ÙˆØ§Ø¬Ù‡Ø© Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ù…ÙŠÙ„Ø©** Ø³ÙˆØ§Ø¡ Ø¨Ù€ HTML/JS Ø£Ùˆ Streamlit

Ø§Ù„Ù†ØªÙŠØ¬Ø© Ù‡ÙŠ Ù…Ø³Ø§Ø¹Ø¯ Ø³ÙØ± Ø°ÙƒÙŠ ÙŠÙ…ÙƒÙ†Ù‡ ÙÙ‡Ù… Ø§Ù‡ØªÙ…Ø§Ù…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ§Ù„ØªÙˆØµÙŠØ© Ø¨Ø§Ù„Ø¬ÙˆÙ„Ø§Øª ÙˆØ§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© ÙÙŠ ÙƒØ§Ù„ÙŠÙÙˆØ±Ù†ÙŠØ§.

